<form
  *ngIf="generateFormTrigger | async"
  [formGroup]="formData"
  (ngSubmit)="submit()"
  class="p-3 flex flex-col gap-5 bg-slate-200 ngx-forms-form-wrapper rounded-br-lg rounded-bl-lg"
>
  <ng-container
    *ngFor="let control of formData.controls | keyvalue; let i = index"
  >
    <ng-container
      *ngIf="
        generateFormBuilderService.getCustomFromControlType(
          formData.get(control.key)
        ) === 'FormControl'
      "
    >
      <div class="grid grid-cols-8">
        <div class="col-span-1">{{ control.key }}</div>
        <div class="col-span-7">
          <sivan-input
            [mainControl]="formData?.get(control.key)"
            [hintTop]="'TEST'"
            [placeholder]="'Placeholder'"
          />
        </div>
      </div>
    </ng-container>

    <ng-container
      *ngIf="
        generateFormBuilderService.getCustomFromControlType(
          formData.get(control.key)
        ) === 'FormGroup'
      "
    >
      <div
        class="grid align-items-center"
        [ngClass]="
         {
         'grid-cols-2':((formData.get(control.key).controls | keyvalue).length ) === 1,
         'grid-cols-3':((formData.get(control.key).controls | keyvalue).length ) === 2,
         'grid-cols-4':((formData.get(control.key).controls | keyvalue).length ) === 3,
         'grid-cols-5':((formData.get(control.key).controls | keyvalue).length ) === 4,
         'grid-cols-6':((formData.get(control.key).controls | keyvalue).length ) === 5,
         'grid-cols-7':((formData.get(control.key).controls | keyvalue).length ) === 6,
         'grid-cols-8':((formData.get(control.key).controls | keyvalue).length ) === 7,
         'grid-cols-9':((formData.get(control.key).controls | keyvalue).length ) === 8,
         'grid-cols-10':((formData.get(control.key).controls | keyvalue).length ) === 9,
         'grid-cols-11':((formData.get(control.key).controls | keyvalue).length ) === 10,
         'grid-cols-12':((formData.get(control.key).controls | keyvalue).length ) === 11,
         }

        "
      >
        <div>{{ control.key }}</div>

        <ng-container
          *ngFor="let group of formData.get(control.key).controls | keyvalue"
        >
          <div class="ml-2 col-span-1">
            <sivan-input
              [mainControl]="formData.get(control.key).get(group.key)"
              [hintTop]="'TEST'"
              [placeholder]="'Placeholder'"
            />
          </div>
        </ng-container>
      </div>
    </ng-container>
    <!--		<sivan-input-->
    <!--			[mainControl]="formData?.get(control.key)"-->
    <!--			[hintTop]="'TEST'"-->
    <!--			[placeholder]="'Placeholder'"-->
    <!--		></sivan-input>-->
  </ng-container>
  <ngx-button-component
    class="bg-white p-2"
    [disable]="formData.pristine || formData.invalid"
    roundedFull="rounded-md"
    >Submit
  </ngx-button-component>
</form>
