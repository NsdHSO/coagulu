<form
  *ngIf="generateFormTrigger | async"
  [formGroup]="formData"
  (ngSubmit)="submit()"
  class="p-3 flex flex-col gap-5 bg-slate-200 ngx-forms-form-wrapper rounded-br-lg rounded-bl-lg"
>
  <ng-container
    *ngFor="let control of formData.controls | keyvalue; let i = index"
  >
    <ng-container
      *ngIf="
        generateFormBuilderService.getCustomFromControlType(
          formData.get(control.key)
        ) === 'FormControl'
      "
    >
      <div
        class="flex items-center"
        *ngIf="dataSource | validatorConfig : formData : control.key | async"
      >
        <div class="max-w-42 w-32 h-10">{{ control.key | firstUpperCase }}</div>
        <div class="grid grid-flow-col gap-4 ftm-group-container-entity">
          <sivan-input
            class="w-full"
            [mainControl]="formData?.get(control.key)"
            [placeholder]="
              dataSource | retrievePlaceholder : 'placeholder' : control.key
            "
            [hintTop]="
              dataSource | retrievePlaceholder : 'labelHint' : control.key
            "
          />
        </div>
      </div>
    </ng-container>

    <ng-container
      *ngIf="
        generateFormBuilderService.getCustomFromControlType(
          formData.get(control.key)
        ) === 'FormGroup'
      "
    >
      <div class="flex items-center">
        <div class="max-w-42 w-32">{{ control.key }}</div>
        <div class="grid grid-flow-col gap-4 ftm-group-container-entity">
          <ng-container
            *ngFor="let group of formData.get(control.key).controls | keyvalue"
          >
            <div
              class="w-full"
              *ngIf="
                dataSource
                  | validatorConfig : formData : control.key : group.key
                  | async
              "
            >
              <sivan-input
                [mainControl]="formData.get(control.key).get(group.key)"
                [placeholder]="
                  dataSource
                    | retrievePlaceholder
                      : 'placeholder'
                      : group.key
                      : control.key
                "
                [hintTop]="
                  dataSource
                    | retrievePlaceholder
                      : 'labelHint'
                      : group.key
                      : control.key
                "
              />
            </div>
          </ng-container>
        </div>
      </div>
    </ng-container>
    <!--		<sivan-input-->
    <!--			[mainControl]="formData?.get(control.key)"-->
    <!--			[hintTop]="'TEST'"-->
    <!--			[placeholder]="'Placeholder'"-->
    <!--		></sivan-input>-->
  </ng-container>
  <ngx-button-component
    class="bg-white p-2"
    [disable]="formData.pristine || formData.invalid"
    roundedFull="rounded-md"
    >Submit
  </ngx-button-component>
</form>
